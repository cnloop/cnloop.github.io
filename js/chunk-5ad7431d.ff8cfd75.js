(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ad7431d"],{"7bf7":function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"c",function(){return n}),a.d(e,"d",function(){return r}),a.d(e,"a",function(){return o}),a.d(e,"f",function(){return c}),a.d(e,"e",function(){return u});var s=a("b775");function i(t){return Object(s["a"])({url:"/api.php/member/member/info",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/api.php/member/member/getMenu",method:"get",params:t})}function r(t){return Object(s["a"])({url:"/api.php/news/content/getContentByCate",method:"get",params:t})}function o(t){return Object(s["a"])({url:"/api.php/member/rong/getApplyList",method:"post",data:t})}function c(t){return Object(s["a"])({url:"/api.php/member/rong/save",method:"post",data:t})}function u(t){return Object(s["a"])({url:"/api.php/member/rong/upDaili",method:"post",data:t})}},a85e:function(t,e,a){},df61:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"base-info"},[a("base-nav",[t._v("基本信息")]),a("base-top"),a("transition",{attrs:{appear:"","appear-class":"enter","appear-active-class":"active"}},[a("div",{staticClass:"content"},[a("base-placeholder"),a("div",{staticClass:"info-list"},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"left"},[t._v("头像")]),a("div",{staticClass:"right img",style:{backgroundImage:"url("+t.avatarSrcBase64+")"}},[a("input",{ref:"avatarInput",attrs:{name:"file",type:"file"},on:{change:function(e){return e.stopPropagation(),t.startUpload(e)}}})])])]),0==t.isinfo?a("div",{staticClass:"real-name-1"},[a("div",[t._v("未实名认证")])]):t._e(),1==t.isinfo?a("div",{staticClass:"real-name-2"},[a("div",[t._v("已实名认证")])]):t._e(),a("div",{staticClass:"item"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"left"},[t._v("真实姓名")]),a("div",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.trueName,expression:"trueName"}],attrs:{type:"text",maxlength:"30",placeholder:"输入真实姓名",disabled:t.disabled},domProps:{value:t.trueName},on:{input:function(e){e.target.composing||(t.trueName=e.target.value)}}})])])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"left"},[t._v("身份证号")]),a("div",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cardNo,expression:"cardNo"}],attrs:{type:"text",maxlength:"30",placeholder:"输入身份证号",disabled:t.disabled},domProps:{value:t.cardNo},on:{input:function(e){e.target.composing||(t.cardNo=e.target.value)}}})])])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"left"},[t._v("昵称")]),a("div",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.nickName,expression:"nickName"}],attrs:{type:"text",maxlength:"30"},domProps:{value:t.nickName},on:{input:function(e){e.target.composing||(t.nickName=e.target.value)}}})])])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"left"},[t._v("手机号")]),a("div",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNum,expression:"phoneNum"}],attrs:{type:"text",maxlength:"20",disabled:!0},domProps:{value:t.phoneNum},on:{input:function(e){e.target.composing||(t.phoneNum=e.target.value)}}})])])]),a("div",{staticClass:"item"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"left"},[t._v("推荐人")]),a("div",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.referee,expression:"referee"}],attrs:{type:"text",maxlength:"20",disabled:!0},domProps:{value:t.referee},on:{input:function(e){e.target.composing||(t.referee=e.target.value)}}})])])])]),a("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.submitForm(e)}}},[a("div",{staticClass:"content"},[t._v("保存")])])],1)]),t.isBaseLoad?a("base-load",{attrs:{isBaseLoad:t.isBaseLoad},on:{"update:isBaseLoad":function(e){t.isBaseLoad=e},"update:is-base-load":function(e){t.isBaseLoad=e}}}):t._e(),t.isBaseLoadPage?a("base-load-page"):t._e()],1)},i=[],n=a("a34a"),r=a.n(n),o=a("c973"),c=a.n(o),u=a("2c98"),d=a("7bf7"),l=a("7ded"),p=a("7d92"),m=a("c57c"),v={data:function(){return{trueName:"",cardNo:"",nickName:"",phoneNum:"",referee:"",avatarSrcBase64:"",avatarSrc:"",disabled:"",isinfo:0,isBaseLoad:!1,isBaseLoadPage:!0}},mounted:function(){this.userInfo=this.$getUser(),this.avatarSrc=this.userInfo.HeadImgVal,this.avatarSrcBase64=this.userInfo.HeadImgVal,this.nickName=this.userInfo.NickName,this.phoneNum=this.userInfo.Mobile,this.referee=this.userInfo.Referee?this.userInfo.Referee:"平台",this.isinfo=this.userInfo.isinfo,this.cardNo=this.userInfo.CardNo,this.trueName=this.userInfo.TrueName,this.disabled=1==this.userInfo.isinfo,this.isBaseLoadPage=!1},methods:{startUpload:function(){var t=c()(r.a.mark(function t(){var e;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isBaseLoad=!0,e=event.target.files[0],t.next=5,this.avatarRead(e);case 5:return this.avatarSrcBase64=t.sent,t.next=8,this.avatarUpload(e);case 8:this.avatarSrc=t.sent,this.isBaseLoad=!1,this.$msg.success("上传成功"),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),this.isBaseLoad=!1,this.$msg.fail("上传失败");case 17:case"end":return t.stop()}},t,this,[[0,13]])}));function e(){return t.apply(this,arguments)}return e}(),avatarRead:function(t){return new Promise(function(e,a){if(!/image\/\w+/.test(t.type))return a("只能选择图片");var s=new FileReader;s.onload=function(t){return e(this.result)},s.readAsDataURL(t)})},avatarUpload:function(){var t=c()(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c()(r.a.mark(function t(a,s){var i,n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=new FormData,i.append("file",e),t.prev=2,t.next=5,Object(u["t"])(i);case 5:n=t.sent.FilePath,a(n),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),s("上传错误");case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e,a){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),getMemberInfo:function(){var t=c()(r.a.mark(function t(){var e;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["a"])();case 2:e=t.sent,Object(m["i"])(e);case 4:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),submitForm:function(){var t=c()(r.a.mark(function t(){var e=this;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isBaseLoad=!0,t.next=4,Object(d["f"])({NickName:this.nickName,HeadImg:this.avatarSrc,TrueName:Object(p["d"])(this.trueName),CardNo:Object(p["d"])(this.cardNo)});case 4:return t.next=6,this.getMemberInfo();case 6:this.isBaseLoad=!1,this.$msg.success("保存成功",function(){e.$goBack()}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),this.isBaseLoad=!1,this.$textTip(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));function e(){return t.apply(this,arguments)}return e}()}},f=v,h=(a("ef44"),a("2877")),g=Object(h["a"])(f,s,i,!1,null,"4aba61fd",null);e["default"]=g.exports},ef44:function(t,e,a){"use strict";var s=a("a85e"),i=a.n(s);i.a}}]);