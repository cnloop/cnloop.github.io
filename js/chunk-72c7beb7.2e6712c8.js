(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72c7beb7"],{"4a78":function(t,e,i){"use strict";var s=i("6dd6"),a=i.n(s);a.a},"6dd6":function(t,e,i){},"906c":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mem-base"},[i("base-nav",[t._v("基本信息")]),i("base-top"),i("transition",{attrs:{appear:"","appear-class":"enter","appear-active-class":"active"}},[i("div",{staticClass:"content"},[i("base-placeholder"),i("div",{staticClass:"info-list"},[i("div",{staticClass:"item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"left"},[t._v("头像")]),i("div",{staticClass:"right img",style:{backgroundImage:"url("+t.avatarSrcBase64+")"}},[i("input",{ref:"avatarInput",attrs:{name:"file",type:"file"},on:{change:function(e){return e.stopPropagation(),t.startUpload(e)}}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"left"},[t._v("昵称")]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.nickName,expression:"nickName"}],attrs:{type:"text",maxlength:"30",placeholder:"请输入昵称"},domProps:{value:t.nickName},on:{input:function(e){e.target.composing||(t.nickName=e.target.value)}}})])])]),0==t.isinfo?i("div",{staticClass:"title no-real"},[i("div",[t._v("未实名认证")])]):t._e(),1==t.isinfo?i("div",{staticClass:"title"},[i("div",[t._v("已实名认证")])]):t._e(),i("div",{staticClass:"item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"left"},[t._v("真实姓名")]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.trueName,expression:"trueName"}],attrs:{type:"text",maxlength:"30",placeholder:"输入真实姓名",disabled:t.disabled},domProps:{value:t.trueName},on:{input:function(e){e.target.composing||(t.trueName=e.target.value)}}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"left"},[t._v("身份证号")]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cardNo,expression:"cardNo"}],attrs:{type:"text",maxlength:"30",placeholder:"输入身份证号",disabled:t.disabled},domProps:{value:t.cardNo},on:{input:function(e){e.target.composing||(t.cardNo=e.target.value)}}})])])]),i("div",{staticClass:"title"},[i("div",[t._v("基本信息")])]),i("div",{staticClass:"item",on:{click:function(e){return e.stopPropagation(),t.showPicker("position")}}},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"left"},[t._v("目前身份")]),i("div",{staticClass:"right"},[t._v(t._s(t.currentPosition))])])]),i("div",{staticClass:"item",on:{click:function(e){return e.stopPropagation(),t.showPicker("credit")}}},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"left"},[t._v("有无信用卡")]),i("div",{staticClass:"right"},[t._v(t._s(t.hasCredit))])])]),i("div",{staticClass:"item",on:{click:function(e){return e.stopPropagation(),t.showPicker("useTime")}}},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"left"},[t._v("手机使用时长")]),i("div",{staticClass:"right"},[t._v(t._s(t.useTimeText))])])]),i("div",{staticClass:"title"},[i("div",[t._v("代理信息")])]),i("div",{staticClass:"item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"left"},[t._v("代理级别")]),i("div",{staticClass:"right"},[this.mtype<4?i("div",{staticClass:"square",on:{click:function(e){return e.stopPropagation(),t.$goUrl("/agent")}}},[t._v("去升级")]):t._e(),i("div",{staticClass:"text"},[t._v(t._s(t.rule))])])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"left"},[t._v("推荐人")]),i("div",{staticClass:"right"},[t._v(t._s(t.referee&&0!=t.referee?t.referee:"平台"))])])]),i("div",{staticClass:"item",on:{click:function(e){return e.stopPropagation(),t.showPicker("useTime")}}},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"left"},[t._v("会员工号")]),i("div",{staticClass:"right"},[t._v(t._s(t.id))])])])]),i("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.submitForm(e)}}},[i("div",{staticClass:"content"},[t._v("保存")])])],1)]),t.isBaseLoad?i("base-load",{attrs:{isBaseLoad:t.isBaseLoad},on:{"update:isBaseLoad":function(e){t.isBaseLoad=e},"update:is-base-load":function(e){t.isBaseLoad=e}}}):t._e(),t.isBaseLoadPage?i("base-load-page"):t._e()],1)},a=[],n=i("a34a"),r=i.n(n),c=i("c973"),o=i.n(c),u=i("9523"),l=i.n(u),d=i("2c98"),h=i("7cba"),v=i("7ded"),p=i("7d92"),m=i("c57c"),f={data:function(){var t;return t={id:"",rule:"",mtype:0,trueName:"",cardNo:"",nickName:"",phoneNum:"",referee:"",avatarSrcBase64:"",avatarSrc:"",disabled:"",isinfo:0,position:"",isCredit:0,useTime:0},l()(t,"referee",""),l()(t,"isBaseLoad",!1),l()(t,"isBaseLoadPage",!0),l()(t,"positionData",[{text:"学生党",value:1},{text:"上班族",value:2},{text:"自主创业",value:3},{text:"无业",value:4}]),l()(t,"cardData",[{text:"无",value:0},{text:"有",value:1}]),l()(t,"useTimeData",[{text:"一年以下",value:1},{text:"一年以上",value:2},{text:"两年以上",value:3},{text:"三年以上",value:4}]),t},mounted:function(){this.userInfo=this.$getUser(),this.avatarSrc=this.userInfo.HeadImgVal,this.avatarSrcBase64=this.userInfo.HeadImgVal,this.nickName=this.userInfo.NickName,this.phoneNum=this.userInfo.Mobile,this.referee=this.userInfo.Referee?this.userInfo.Referee:"平台",this.isinfo=this.userInfo.isinfo,this.cardNo=this.userInfo.CardNo,this.trueName=this.userInfo.TrueName,this.disabled=1==this.userInfo.isinfo,this.position=this.postionText(this.userInfo.Position),this.isCredit="无"==this.userInfo.IsCredit?0:1,this.useTime=this.useTimeTrans(this.userInfo.UseTime),this.referee=this.userInfo.Referee,this.id=this.userInfo.ID,this.mtype=this.userInfo.Mtype,this.rule=this.userInfo.Rule,this.isBaseLoadPage=!1},computed:{currentPosition:function(){return console.log(this.position),1==this.position?"学生党":2==this.position?"上班族":3==this.position?"自主创业":4==this.position?"无业":"请选择"},hasCredit:function(){return this.isCredit&&0!=this.isCredit?"有":"无"},useTimeText:function(){return 1==this.useTime?"一年以下":2==this.useTime?"一年以上":3==this.useTime?"两年以上":4==this.useTime?"三年以上":"请选择"}},methods:{startUpload:function(){var t=o()(r.a.mark(function t(){var e;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isBaseLoad=!0,e=event.target.files[0],t.next=5,this.avatarRead(e);case 5:return this.avatarSrcBase64=t.sent,t.next=8,this.avatarUpload(e);case 8:this.avatarSrc=t.sent,this.isBaseLoad=!1,this.$msg.success("上传成功"),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),this.isBaseLoad=!1,this.$msg.fail("上传失败");case 17:case"end":return t.stop()}},t,this,[[0,13]])}));function e(){return t.apply(this,arguments)}return e}(),avatarRead:function(t){return new Promise(function(e,i){if(!/image\/\w+/.test(t.type))return i("只能选择图片");var s=new FileReader;s.onload=function(t){return e(this.result)},s.readAsDataURL(t)})},avatarUpload:function(){var t=o()(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=o()(r.a.mark(function t(i,s){var a,n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("file",e),t.prev=2,t.next=5,Object(d["t"])(a);case 5:n=t.sent.FilePath,i(n),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),s("上传错误");case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e,i){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),getMemberInfo:function(){var t=o()(r.a.mark(function t(){var e;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["a"])();case 2:e=t.sent,Object(m["i"])(e);case 4:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),submitForm:function(){var t=o()(r.a.mark(function t(){var e=this;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isBaseLoad=!0,t.next=4,Object(h["G"])({NickName:this.nickName,HeadImg:this.avatarSrc,TrueName:Object(p["d"])(this.trueName),CardNo:Object(p["d"])(this.cardNo),UseTime:this.useTime,IsCredit:this.isCredit,identity:this.position});case 4:return t.next=6,this.getMemberInfo();case 6:this.isBaseLoad=!1,this.$msg.success("保存成功",function(){e.$goBack()}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),this.isBaseLoad=!1,this.$textTip(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));function e(){return t.apply(this,arguments)}return e}(),postionText:function(t){return"学生党"==t?1:"上班族"==t?2:"自主创业"==t?3:"无业"==t?4:0},useTimeTrans:function(t){return"一年以下"==t?1:"一年以上"==t?2:"两年以上"==t?3:"三年以上"==t?4:1},showPicker:function(t){var e,i;"position"==t?(i="目前身份",e=this.positionData):"credit"==t?(i="有无信用卡",e=this.cardData):(i="手机使用时长",e=this.useTimeData),this.selectType=t,this.picker&&this.picker.$updateProps({title:i,data:[e]}),this.picker||(this.picker=this.$createPicker({title:i,data:[e],onSelect:this.selectHandle,onCancel:this.cancelHandle})),this.picker.show()},selectHandle:function(t,e,i){"position"==this.selectType?this.position=t.join():"credit"==this.selectType?this.isCredit=t.join():this.useTime=t.join(),this.$createDialog({type:"warn",content:"您选择了：".concat(i.join(" ")),icon:"cubeic-alert"}).show()},cancelHandle:function(){this.$createToast({type:"correct",txt:"您取消了选择",time:1e3}).show()}}},C=f,g=(i("4a78"),i("2877")),x=Object(g["a"])(C,s,a,!1,null,"a08cc98e",null);e["default"]=x.exports}}]);